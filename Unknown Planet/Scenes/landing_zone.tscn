[gd_scene load_steps=11 format=1]

[ext_resource path="res://Art/megacommando.png" type="Texture" id=1]
[ext_resource path="res://Other/tileset.tres" type="TileSet" id=2]
[ext_resource path="res://Scenes/HUD.tscn" type="PackedScene" id=3]
[ext_resource path="res://Art/spaceship.png" type="Texture" id=4]
[ext_resource path="res://Scenes/Camera2D.tscn" type="PackedScene" id=5]
[ext_resource path="res://Scenes/beacon.tscn" type="PackedScene" id=6]
[ext_resource path="res://Art/lightmap.tex" type="Texture" id=7]
[ext_resource path="res://Scenes/torch.tscn" type="PackedScene" id=8]
[ext_resource path="res://Scenes/portal.tscn" type="PackedScene" id=9]

[sub_resource type="ColorRamp" id=1]

offsets = FloatArray( 0, 1 )
colors = ColorArray( 0, 0, 0, 1, 1, 0.601563, 0.825684, 1 )

[node name="LandingZone" type="Node2D" groups=[
"ladder",
]]

[node name="CanvasParallax" type="CanvasLayer" parent="."]

editor/display_folded = true
layer = 1
offset = Vector2( 0, 0 )
rotation = 0.0
scale = Vector2( 1, 2 )

[node name="ParallaxBackground" type="ParallaxBackground" parent="CanvasParallax"]

layer = -1
offset = Vector2( 0, 0 )
rotation = 0.0
scale = Vector2( 1, 1 )
scroll/offset = Vector2( 0, 0 )
scroll/base_offset = Vector2( 0, 0 )
scroll/base_scale = Vector2( 1, 1 )
scroll/limit_begin = Vector2( 0, 0 )
scroll/limit_end = Vector2( 0, 0 )
scroll/ignore_camera_zoom = true

[node name="ParallaxLayer" type="ParallaxLayer" parent="CanvasParallax/ParallaxBackground"]

motion/scale = Vector2( 0.7, 1 )
motion/offset = Vector2( 0, 0 )
motion/mirroring = Vector2( 0, 0 )

[node name="Sprite" type="Sprite" parent="CanvasParallax/ParallaxBackground/ParallaxLayer"]

transform/pos = Vector2( -48, 48 )
texture = ExtResource( 1 )
modulate = Color( 0.0245056, 0.0957773, 0.285156, 1 )
region = true
region_rect = Rect2( 448, 384, 192, 64 )

[node name="TileMap" type="TileMap" parent="."]

mode = 0
tile_set = ExtResource( 2 )
cell/size = Vector2( 16, 16 )
cell/quadrant_size = 16
cell/custom_transform = Matrix32( 1, 0, 0, 1, 0, 0 )
cell/half_offset = 2
cell/tile_origin = 0
cell/y_sort = false
collision/use_kinematic = false
collision/friction = 1.0
collision/bounce = 0.0
collision/layers = 1
collision/mask = 1
occluder/light_mask = 1
tile_data = IntArray( -655407, 9, -589871, 9, -524335, 9, -458799, 9, -458755, 17, -458754, 17, -393263, 9, -393219, 17, -393218, 17, -458732, 10, -327727, 9, -327683, 17, -327682, 17, -393196, 10, -262191, 9, -262146, 17, -327660, 10, -196665, 17, -196664, 17, -196663, 17, -196662, 17, -196661, 17, -196660, 17, -196659, 17, -196658, 17, -196657, 17, -196656, 17, -196655, 9, -262124, 10, -131129, 17, -131128, 17, -131127, 17, -131126, 17, -131125, 17, -131124, 17, -131123, 17, -131122, 17, -131121, 17, -131120, 17, -131119, 9, -196588, 10, -65592, 17, -65591, 17, -65590, 17, -65589, 17, -65588, 17, -65587, 17, -65586, 17, -65585, 17, -65584, 17, -65583, 9, -131052, 10, -56, 17, -55, 17, -54, 17, -53, 17, -52, 17, -51, 17, -50, 17, -49, 17, -48, 17, -47, 9, -65516, 10, -65500, 17, -65499, 17, -65498, 17, -65497, 17, -65496, 17, -65495, 17, 65477, 13, 65478, 13, 65479, 13, 65480, 13, 65481, 13, 65482, 13, 65483, 13, 65484, 13, 65485, 13, 65486, 13, 65487, 13, 65488, 13, 65489, 11, 20, 12, 21, 13, 22, 13, 23, 13, 24, 13, 25, 13, 26, 13, 27, 13, 28, 13, 29, 13, 30, 13, 31, 13, 32, 13, 33, 13, 34, 13, 35, 13, 36, 17, 37, 17, 38, 17, 39, 17, 40, 17, 65571, 10, 65572, 17, 65573, 17, 65574, 17, 65575, 17, 65576, 17, 131107, 10, 131108, 17, 131109, 17, 131110, 17, 131111, 17, 131112, 17, 262085, 16, 262086, 16, 262087, 16, 262088, 16, 262089, 16, 262090, 16, 262091, 16, 262092, 16, 262093, 16, 262094, 16, 262095, 16, 262096, 16, 262097, 16, 262098, 3, 262099, 3, 262100, 3, 262101, 4, 196643, 12, 196644, 13, 196645, 13, 196646, 13, 196647, 13, 196648, 13, 327637, 6, 327638, 3, 327639, 3, 327640, 3, 327641, 3, 327642, 3, 327643, 3, 327644, 3, 327645, 3, 327646, 3, 327647, 3, 327648, 3, 327649, 3, 327650, 3, 327651, 3, 327652, 3, 327653, 3, 327654, 3, 327655, 3, 327656, 3, 327657, 3, 327658, 3, 327659, 3, 327660, 3, 327661, 3, 327662, 3, 327663, 3, 327664, 3, 327665, 3, 327666, 3, 327667, 3, 327668, 3, 327669, 3, 327670, 3, 327671, 3, 327672, 3, 327673, 3, 327674, 3, 327675, 3, 327676, 3, 327677, 8, 327678, 8, 327679, 3, 262144, 3, 262145, 3, 262146, 3, 262147, 3, 262148, 3, 262149, 8, 262150, 8, 262151, 8, 262152, 8, 262153, 3, 262154, 3, 262155, 3, 262156, 3, 262157, 3, 262158, 3, 262159, 8, 262160, 8, 262161, 8, 262162, 8, 262163, 8, 262164, 8, 262165, 8, 262166, 16, 262167, 16, 262168, 16, 262169, 16, 262170, 14, 327706, 6, 327707, 14, 458749, 17, 458750, 17, 458751, 17, 393216, 17, 393217, 17, 393218, 17, 393219, 17, 393220, 17, 393243, 6, 393244, 16, 393245, 16, 393246, 16, 393247, 16, 393248, 16, 393249, 16, 393250, 16, 393251, 16, 393252, 16, 393253, 16, 393254, 16, 393255, 16, 393256, 16, 524285, 17, 524286, 17, 524287, 17, 458752, 17, 458753, 17, 458754, 17, 458755, 17 )

[node name="Trees" type="Node2D" parent="."]

editor/display_folded = true

[node name="Tree" type="Sprite" parent="Trees"]

transform/pos = Vector2( 256, 35 )
texture = ExtResource( 1 )
region = true
region_rect = Rect2( 208, 1144, 32, 56 )

[node name="Tree1" type="Sprite" parent="Trees"]

transform/pos = Vector2( -368, 36 )
texture = ExtResource( 1 )
region = true
region_rect = Rect2( 208, 1144, 32, 56 )

[node name="Tree2" type="Sprite" parent="Trees"]

transform/pos = Vector2( 16, 36 )
texture = ExtResource( 1 )
region = true
region_rect = Rect2( 208, 1144, 32, 56 )

[node name="HUD" parent="." instance=ExtResource( 3 )]

[node name="SpaceShip" type="Sprite" parent="."]

editor/display_folded = true
transform/pos = Vector2( -168, -86 )
texture = ExtResource( 4 )

[node name="Particles2D" type="Particles2D" parent="SpaceShip"]

visibility/visible = false
transform/pos = Vector2( 0, 48 )
transform/scale = Vector2( 1, 3 )
config/amount = 10
config/lifetime = 1.0
config/process_mode = 1
params/direction = 0.0
params/spread = 60.0
params/linear_velocity = 20.0
params/spin_velocity = 0.0
params/orbit_velocity = 0.0
params/gravity_direction = 0.0
params/gravity_strength = 9.8
params/radial_accel = 0.0
params/tangential_accel = 0.0
params/damping = 0.0
params/initial_angle = 0.0
params/initial_size = 3.0
params/final_size = 4.0
params/hue_variation = 0.0
params/anim_speed_scale = 1.0
params/anim_initial_pos = 0.0
color/color_ramp = SubResource( 1 )

[node name="Camera2D" parent="." instance=ExtResource( 5 )]

transform/pos = Vector2( -144, 96 )

[node name="Beacon" parent="." instance=ExtResource( 6 )]

transform/pos = Vector2( -208, 48 )
scene = 1

[node name="Darkness" type="Node" parent="."]

editor/display_folded = true

[node name="CanvasModulate" type="CanvasModulate" parent="Darkness"]

color = Color( 0, 0, 0, 1 )

[node name="Light2D" type="Light2D" parent="."]

transform/pos = Vector2( -208, -96 )
enabled = true
editor_only = false
texture = ExtResource( 7 )
offset = Vector2( 0, 0 )
scale = 4.0
color = Color( 1, 1, 1, 1 )
energy = 1.0
mode = 0
range/height = 0.0
range/z_min = -1024
range/z_max = 1024
range/layer_min = 0
range/layer_max = 0
range/item_mask = 1
shadow/enabled = false
shadow/color = Color( 0, 0, 0, 0 )
shadow/buffer_size = 2048
shadow/esm_multiplier = 80.0
shadow/item_mask = 1

[node name="Torch" parent="." instance=ExtResource( 8 )]

transform/pos = Vector2( 544, 64 )

[node name="Portal" parent="." instance=ExtResource( 9 )]

transform/pos = Vector2( 624, 80 )
scene_index = 2

[node name="Portal1" parent="." instance=ExtResource( 9 )]

transform/pos = Vector2( -832, 32 )
scene_index = 5
start_position = 2

[node name="SpawnPoint1" type="Position2D" parent="."]

transform/pos = Vector2( -144, 53 )

[node name="SpawnPoint2" type="Position2D" parent="."]

transform/pos = Vector2( 592, 86 )

[node name="SpawnPoint3" type="Position2D" parent="."]

transform/pos = Vector2( -800, 32 )

[node name="Enemies" type="Node2D" parent="."]


